<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>liu</title>
</head>

<body>
      <!--在 SVG 中，矩形的元素标签是 rect
	   rect属性
	       x：矩形左上角的 x 坐标
           y：矩形左上角的 y 坐标
	       width：矩形的宽度
	       height：矩形的高度  
	  -->
     

     <script src="js/d3/d3.min.js"></script>
	 <script>
	     var width =300;
		 var height=300;
		 
		 var svg=d3.select("body")
		    .append("svg")
			.attr("width",width)
			.attr("height",height);
		  
		  
		 var dataset =[2.5,2.1,1.7,1.3,0.9];
		 
		 var linear=d3.scale.linear()
		           .domain([0,d3.max(dataset)])
				   .range([0,250])//d3.scale.linear() 返回一个线性比例尺。domain() 和 range() 分别设定比例尺的定义域和值域.d3.scale.linear() 的返回值，是可以当做函数来使用的。
		 
		 var rectHeight=25;//每个矩形所占的像素高度（包括空白）
		 
		 svg.selectAll("rect")  //选择svg内所有的矩形
		     .data(dataset)     //绑定数组
			 .enter()           //指定选择集的enter部分
			 .append("rect")    //添加足够数量的矩形元素
			 .attr("x",20)
			 .attr("y",function(d,i){
			     return i*rectHeight;
			 })
			 .attr("width",function(d){
			     return linear(d);
			 })
			 .attr("height",rectHeight-2)
			 .attr("fill","steelblue");
	 </script>
</body>
</html>
